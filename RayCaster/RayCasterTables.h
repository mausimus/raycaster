#pragma once

#include "RayCaster.h"

#ifdef TABLES_320

#define HAS_TABLES

const uint16_t LOOKUP_TBL _tan[256] = {
    0,    1,    3,    4,    6,    7,    9,    11,   12,   14,   15,    17,    18,    20,   22,   23,   25,   26,   28,   29,   31,   33,
    34,   36,   37,   39,   41,   42,   44,   46,   47,   49,   50,    52,    54,    55,   57,   59,   60,   62,   64,   65,   67,   69,
    70,   72,   74,   75,   77,   79,   81,   82,   84,   86,   88,    89,    91,    93,   95,   96,   98,   100,  102,  104,  106,  107,
    109,  111,  113,  115,  117,  119,  121,  123,  124,  126,  128,   130,   132,   134,  136,  138,  140,  142,  145,  147,  149,  151,
    153,  155,  157,  159,  162,  164,  166,  168,  171,  173,  175,   177,   180,   182,  185,  187,  189,  192,  194,  197,  199,  202,
    204,  207,  210,  212,  215,  218,  220,  223,  226,  229,  232,   234,   237,   240,  243,  246,  249,  252,  255,  259,  262,  265,
    268,  272,  275,  278,  282,  285,  289,  293,  296,  300,  304,   308,   311,   315,  319,  323,  328,  332,  336,  340,  345,  349,
    354,  358,  363,  368,  373,  378,  383,  388,  393,  398,  404,   409,   415,   421,  427,  433,  439,  445,  451,  458,  465,  471,
    478,  486,  493,  500,  508,  516,  524,  532,  541,  549,  558,   568,   577,   587,  597,  607,  618,  628,  640,  651,  663,  675,
    688,  701,  715,  729,  744,  759,  774,  791,  808,  825,  843,   862,   882,   903,  925,  947,  971,  996,  1022, 1049, 1077, 1108,
    1140, 1173, 1209, 1246, 1286, 1329, 1374, 1423, 1475, 1531, 1591,  1655,  1725,  1801, 1884, 1975, 2075, 2185, 2308, 2445, 2599, 2773,
    2972, 3202, 3470, 3787, 4166, 4631, 5210, 5956, 6950, 8341, 10428, 13905, 20859, 41720};

const uint16_t LOOKUP_TBL _cotan[256] = {
    0,    41720, 20859, 13905, 10428, 8341, 6950, 5956, 5210, 4631, 4166, 3787, 3470, 3202, 2972, 2773, 2599, 2445, 2308, 2185, 2075, 1975,
    1884, 1801,  1725,  1655,  1591,  1531, 1475, 1423, 1374, 1329, 1286, 1246, 1209, 1173, 1140, 1108, 1077, 1049, 1022, 996,  971,  947,
    925,  903,   882,   862,   843,   825,  808,  791,  774,  759,  744,  729,  715,  701,  688,  675,  663,  651,  640,  628,  618,  607,
    597,  587,   577,   568,   558,   549,  541,  532,  524,  516,  508,  500,  493,  486,  478,  471,  465,  458,  451,  445,  439,  433,
    427,  421,   415,   409,   404,   398,  393,  388,  383,  378,  373,  368,  363,  358,  354,  349,  345,  340,  336,  332,  328,  323,
    319,  315,   311,   308,   304,   300,  296,  293,  289,  285,  282,  278,  275,  272,  268,  265,  262,  259,  256,  252,  249,  246,
    243,  240,   237,   234,   232,   229,  226,  223,  220,  218,  215,  212,  210,  207,  204,  202,  199,  197,  194,  192,  189,  187,
    185,  182,   180,   177,   175,   173,  171,  168,  166,  164,  162,  159,  157,  155,  153,  151,  149,  147,  145,  142,  140,  138,
    136,  134,   132,   130,   128,   126,  124,  123,  121,  119,  117,  115,  113,  111,  109,  107,  106,  104,  102,  100,  98,   96,
    95,   93,    91,    89,    88,    86,   84,   82,   81,   79,   77,   75,   74,   72,   70,   69,   67,   65,   64,   62,   60,   59,
    57,   55,    54,    52,    50,    49,   47,   46,   44,   42,   41,   39,   37,   36,   34,   33,   31,   29,   28,   26,   25,   23,
    22,   20,    18,    17,    15,    14,   12,   11,   9,    7,    6,    4,    3,    1};

const uint8_t LOOKUP_TBL _sin[256] = {
    0,   1,   3,   4,   6,   7,   9,   10,  12,  14,  15,  17,  18,  20,  21,  23,  25,  26,  28,  29,  31,  32,  34,  36,  37,  39,
    40,  42,  43,  45,  46,  48,  49,  51,  53,  54,  56,  57,  59,  60,  62,  63,  65,  66,  68,  69,  71,  72,  74,  75,  77,  78,
    80,  81,  83,  84,  86,  87,  89,  90,  92,  93,  95,  96,  97,  99,  100, 102, 103, 105, 106, 108, 109, 110, 112, 113, 115, 116,
    117, 119, 120, 122, 123, 124, 126, 127, 128, 130, 131, 132, 134, 135, 136, 138, 139, 140, 142, 143, 144, 146, 147, 148, 149, 151,
    152, 153, 155, 156, 157, 158, 159, 161, 162, 163, 164, 166, 167, 168, 169, 170, 171, 173, 174, 175, 176, 177, 178, 179, 181, 182,
    183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208,
    209, 210, 211, 211, 212, 213, 214, 215, 216, 217, 217, 218, 219, 220, 221, 221, 222, 223, 224, 225, 225, 226, 227, 227, 228, 229,
    230, 230, 231, 232, 232, 233, 234, 234, 235, 235, 236, 237, 237, 238, 238, 239, 239, 240, 241, 241, 242, 242, 243, 243, 244, 244,
    244, 245, 245, 246, 246, 247, 247, 247, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 251, 252, 252, 252, 252, 253, 253,
    253, 253, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255};

const uint8_t LOOKUP_TBL _cos[256] = {
    0,   255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 253, 253, 253, 253, 252,
    252, 252, 252, 251, 251, 251, 251, 250, 250, 250, 249, 249, 249, 248, 248, 247, 247, 247, 246, 246, 245, 245, 244, 244, 244, 243,
    243, 242, 242, 241, 241, 240, 239, 239, 238, 238, 237, 237, 236, 235, 235, 234, 234, 233, 232, 232, 231, 230, 230, 229, 228, 227,
    227, 226, 225, 225, 224, 223, 222, 221, 221, 220, 219, 218, 217, 217, 216, 215, 214, 213, 212, 211, 211, 210, 209, 208, 207, 206,
    205, 204, 203, 202, 201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181, 179,
    178, 177, 176, 175, 174, 173, 171, 170, 169, 168, 167, 166, 164, 163, 162, 161, 159, 158, 157, 156, 155, 153, 152, 151, 149, 148,
    147, 146, 144, 143, 142, 140, 139, 138, 136, 135, 134, 132, 131, 130, 128, 127, 126, 124, 123, 122, 120, 119, 117, 116, 115, 113,
    112, 110, 109, 108, 106, 105, 103, 102, 100, 99,  97,  96,  95,  93,  92,  90,  89,  87,  86,  84,  83,  81,  80,  78,  77,  75,
    74,  72,  71,  69,  68,  66,  65,  63,  62,  60,  59,  57,  56,  54,  53,  51,  49,  48,  46,  45,  43,  42,  40,  39,  37,  36,
    34,  32,  31,  29,  28,  26,  25,  23,  21,  20,  18,  17,  15,  14,  12,  10,  9,   7,   6,   4,   3,   1};

const uint8_t LOOKUP_TBL _neard[256] = {
    128, 125, 123, 120, 118, 116, 114, 112, 110, 108, 106, 104, 103, 101, 100, 98, 96, 95, 94, 92, 91, 90, 88, 87, 86, 85, 84, 83, 82,
    81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,  71,  70,  69,  68,  68, 67, 66, 65, 65, 64, 64, 63, 62, 62, 61, 60, 60, 59,
    59,  58,  58,  57,  57,  56,  56,  55,  55,  54,  54,  53,  53,  52,  52,  52, 51, 51, 50, 50, 50, 49, 49, 48, 48, 48, 47, 47, 47,
    46,  46,  46,  45,  45,  45,  44,  44,  44,  43,  43,  43,  42,  42,  42,  42, 41, 41, 41, 41, 40, 40, 40, 40, 39, 39, 39, 39, 38,
    38,  38,  38,  37,  37,  37,  37,  36,  36,  36,  36,  36,  35,  35,  35,  35, 35, 34, 34, 34, 34, 34, 34, 33, 33, 33, 33, 33, 32,
    32,  32,  32,  32,  32,  32,  31,  31,  31,  31,  31,  31,  30,  30,  30,  30, 30, 30, 30, 29, 29, 29, 29, 29, 29, 29, 28, 28, 28,
    28,  28,  28,  28,  28,  27,  27,  27,  27,  27,  27,  27,  27,  27,  26,  26, 26, 26, 26, 26, 26, 26, 26, 25, 25, 25, 25, 25, 25,
    25,  25,  25,  25,  24,  24,  24,  24,  24,  24,  24,  24,  24,  24,  23,  23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 22, 22, 22,
    22,  22,  22,  22,  22,  22,  22,  22,  22,  21,  21,  21,  21,  21,  21,  21, 21, 21, 21, 21, 21, 21, 21, 20};

const uint8_t LOOKUP_TBL _fard[256] = {
    133, 114, 100, 88, 80, 72, 66, 61, 57, 53, 50, 47, 44, 42, 40, 38, 36, 34, 33, 32, 30, 29, 28, 27, 26, 25, 25, 24, 23, 22, 22, 21,
    21,  20,  20,  19, 19, 18, 18, 17, 17, 17, 16, 16, 16, 15, 15, 15, 14, 14, 14, 14, 13, 13, 13, 13, 12, 12, 12, 12, 12, 11, 11, 11,
    11,  11,  11,  10, 10, 10, 10, 10, 10, 10, 10, 9,  9,  9,  9,  9,  9,  9,  9,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  8,  7,
    7,   7,   7,   7,  7,  7,  7,  7,  7,  7,  7,  7,  7,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,
    5,   5,   5,   5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  4,  4,  4,  4,  4,
    4,   4,   4,   4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,
    4,   4,   4,   3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,
    3,   3,   3,   3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3};

const uint16_t LOOKUP_TBL _nears[256] = {
    256,  261,  266,  271,  276,  281,  286,  291,  296,  302,  307,  312,  317,  322,  327,  332,  337,  343,  348,  353,  358,  363,
    368,  373,  378,  384,  389,  394,  399,  404,  409,  414,  419,  424,  430,  435,  440,  445,  450,  455,  460,  465,  471,  476,
    481,  486,  491,  496,  501,  506,  512,  517,  522,  527,  532,  537,  542,  547,  552,  558,  563,  568,  573,  578,  583,  588,
    593,  599,  604,  609,  614,  619,  624,  629,  634,  640,  645,  650,  655,  660,  665,  670,  675,  680,  686,  691,  696,  701,
    706,  711,  716,  721,  727,  732,  737,  742,  747,  752,  757,  762,  768,  773,  778,  783,  788,  793,  798,  803,  808,  814,
    819,  824,  829,  834,  839,  844,  849,  855,  860,  865,  870,  875,  880,  885,  890,  895,  901,  906,  911,  916,  921,  926,
    931,  936,  942,  947,  952,  957,  962,  967,  972,  977,  983,  988,  993,  998,  1003, 1008, 1013, 1018, 1024, 1029, 1034, 1039,
    1044, 1049, 1054, 1059, 1064, 1070, 1075, 1080, 1085, 1090, 1095, 1100, 1105, 1111, 1116, 1121, 1126, 1131, 1136, 1141, 1146, 1152,
    1157, 1162, 1167, 1172, 1177, 1182, 1187, 1192, 1198, 1203, 1208, 1213, 1218, 1223, 1228, 1233, 1239, 1244, 1249, 1254, 1259, 1264,
    1269, 1274, 1280, 1285, 1290, 1295, 1300, 1305, 1310, 1315, 1320, 1326, 1331, 1336, 1341, 1346, 1351, 1356, 1361, 1367, 1372, 1377,
    1382, 1387, 1392, 1397, 1402, 1408, 1413, 1418, 1423, 1428, 1433, 1438, 1443, 1448, 1454, 1459, 1464, 1469, 1474, 1479, 1484, 1489,
    1495, 1500, 1505, 1510, 1515, 1520, 1525, 1530, 1536, 1541, 1546, 1551, 1556, 1561};

const uint16_t LOOKUP_TBL _fars[256] = {
    256,   296,   337,   378,   419,   460,   501,   542,   583,   624,   665,   706,   747,   788,   829,   870,  911,  952,  993,   1034,
    1075,  1116,  1157,  1198,  1239,  1280,  1320,  1361,  1402,  1443,  1484,  1525,  1566,  1607,  1648,  1689, 1730, 1771, 1812,  1853,
    1894,  1935,  1976,  2017,  2058,  2099,  2140,  2181,  2222,  2263,  2304,  2344,  2385,  2426,  2467,  2508, 2549, 2590, 2631,  2672,
    2713,  2754,  2795,  2836,  2877,  2918,  2959,  3000,  3041,  3082,  3123,  3164,  3205,  3246,  3287,  3327, 3368, 3409, 3450,  3491,
    3532,  3573,  3614,  3655,  3696,  3737,  3778,  3819,  3860,  3901,  3942,  3983,  4024,  4065,  4106,  4147, 4188, 4229, 4270,  4311,
    4352,  4392,  4433,  4474,  4515,  4556,  4597,  4638,  4679,  4720,  4761,  4802,  4843,  4884,  4925,  4966, 5007, 5048, 5089,  5130,
    5171,  5212,  5253,  5294,  5335,  5376,  5416,  5457,  5498,  5539,  5580,  5621,  5662,  5703,  5744,  5785, 5826, 5867, 5908,  5949,
    5990,  6031,  6072,  6113,  6154,  6195,  6236,  6277,  6318,  6359,  6400,  6440,  6481,  6522,  6563,  6604, 6645, 6686, 6727,  6768,
    6809,  6850,  6891,  6932,  6973,  7014,  7055,  7096,  7137,  7178,  7219,  7260,  7301,  7342,  7383,  7424, 7464, 7505, 7546,  7587,
    7628,  7669,  7710,  7751,  7792,  7833,  7874,  7915,  7956,  7997,  8038,  8079,  8120,  8161,  8202,  8243, 8284, 8325, 8366,  8407,
    8448,  8488,  8529,  8570,  8611,  8652,  8693,  8734,  8775,  8816,  8857,  8898,  8939,  8980,  9021,  9062, 9103, 9144, 9185,  9226,
    9267,  9308,  9349,  9390,  9431,  9472,  9512,  9553,  9594,  9635,  9676,  9717,  9758,  9799,  9840,  9881, 9922, 9963, 10004, 10045,
    10086, 10127, 10168, 10209, 10250, 10291, 10332, 10373, 10414, 10455, 10496, 10536, 10577, 10618, 10659, 10700};

const uint16_t LOOKUP_TBL _shorto[256] = {
    0,     32604, 32440, 32276, 32112, 31948, 31784, 31621, 31457, 31293, 31129, 30965, 30801, 30638, 30474, 30310, 30146, 29982, 29818,
    29655, 29491, 29327, 29163, 28999, 28835, 28672, 28508, 28344, 28180, 28016, 27852, 27688, 27525, 27361, 27197, 27033, 26869, 26705,
    26542, 26378, 26214, 26050, 25886, 25722, 25559, 25395, 25231, 25067, 24903, 24739, 24576, 24412, 24248, 24084, 23920, 23756, 23592,
    23429, 23265, 23101, 22937, 22773, 22609, 22446, 22282, 22118, 21954, 21790, 21626, 21463, 21299, 21135, 20971, 20807, 20643, 20480,
    20316, 20152, 19988, 19824, 19660, 19496, 19333, 19169, 19005, 18841, 18677, 18513, 18350, 18186, 18022, 17858, 17694, 17530, 17367,
    17203, 17039, 16875, 16711, 16547, 16384, 16220, 16056, 15892, 15728, 15564, 15400, 15237, 15073, 14909, 14745, 14581, 14417, 14254,
    14090, 13926, 13762, 13598, 13434, 13271, 13107, 12943, 12779, 12615, 12451, 12288, 12124, 11960, 11796, 11632, 11468, 11304, 11141,
    10977, 10813, 10649, 10485, 10321, 10158, 9994,  9830,  9666,  9502,  9338,  9175,  9011,  8847,  8683,  8519,  8355,  8192,  8028,
    7864,  7700,  7536,  7372,  7208,  7045,  6881,  6717,  6553,  6389,  6225,  6062,  5898,  5734,  5570,  5406,  5242,  5079,  4915,
    4751,  4587,  4423,  4259,  4096,  3932,  3768,  3604,  3440,  3276,  3112,  2949,  2785,  2621,  2457,  2293,  2129,  1966,  1802,
    1638,  1474,  1310,  1146,  983,   819,   655,   491,   327,   163,   0,     65373, 65209, 65045, 64881, 64717, 64553, 64390, 64226,
    64062, 63898, 63734, 63570, 63407, 63243, 63079, 62915, 62751, 62587, 62424, 62260, 62096, 61932, 61768, 61604, 61441, 61277, 61113,
    60949, 60785, 60621, 60457, 60294, 60130, 59966, 59802, 59638, 59474, 59311, 59147, 58983, 58819, 58655, 58491, 58328, 58164, 58000,
    57836, 57672, 57508, 57345, 57181, 57017, 56853, 56689, 56525};

const uint16_t LOOKUP_TBL _shorts[256] = {
    0,   1,   2,   3,   5,   6,   7,   8,   10,  11,  12,  14,  15,  16,  17,  19,  20,  21,  23,  24,  25,  26,  28,  29,  30,  32,
    33,  34,  35,  37,  38,  39,  40,  42,  43,  44,  46,  47,  48,  49,  51,  52,  53,  55,  56,  57,  58,  60,  61,  62,  64,  65,
    66,  67,  69,  70,  71,  72,  74,  75,  76,  78,  79,  80,  81,  83,  84,  85,  87,  88,  89,  90,  92,  93,  94,  96,  97,  98,
    99,  101, 102, 103, 104, 106, 107, 108, 110, 111, 112, 113, 115, 116, 117, 119, 120, 121, 122, 124, 125, 126, 128, 129, 130, 131,
    133, 134, 135, 136, 138, 139, 140, 142, 143, 144, 145, 147, 148, 149, 151, 152, 153, 154, 156, 157, 158, 160, 161, 162, 163, 165,
    166, 167, 168, 170, 171, 172, 174, 175, 176, 177, 179, 180, 181, 183, 184, 185, 186, 188, 189, 190, 192, 193, 194, 195, 197, 198,
    199, 200, 202, 203, 204, 206, 207, 208, 209, 211, 212, 213, 215, 216, 217, 218, 220, 221, 222, 223, 225, 226, 227, 229, 230, 231,
    232, 234, 235, 236, 238, 239, 240, 241, 243, 244, 245, 247, 248, 249, 250, 252, 253, 254, 256, 257, 258, 259, 261, 262, 263, 264,
    266, 267, 268, 270, 271, 272, 273, 275, 276, 277, 279, 280, 281, 282, 284, 285, 286, 288, 289, 290, 291, 293, 294, 295, 296, 298,
    299, 300, 302, 303, 304, 305, 307, 308, 309, 311, 312, 313, 314, 316, 317, 318, 320, 321, 322, 323, 325, 326};

const uint16_t LOOKUP_TBL _da[SCREEN_WIDTH] = {
    924,  925,  925,  926,  926,  927,  928,  928,  929,  930,  930,  931,  932,  932,  933,  933,  934,  935,  935,  936,  937,  937,
    938,  938,  939,  940,  940,  941,  942,  942,  943,  943,  944,  945,  945,  946,  947,  947,  948,  948,  949,  950,  950,  951,
    952,  952,  953,  954,  954,  955,  955,  956,  957,  957,  958,  959,  959,  960,  960,  961,  962,  962,  963,  964,  964,  965,
    965,  966,  967,  967,  968,  969,  969,  970,  970,  971,  972,  972,  973,  974,  974,  975,  975,  976,  977,  977,  978,  979,
    979,  980,  981,  981,  982,  982,  983,  984,  984,  985,  986,  986,  987,  987,  988,  989,  989,  990,  991,  991,  992,  992,
    993,  994,  994,  995,  996,  996,  997,  997,  998,  999,  999,  1000, 1001, 1001, 1002, 1003, 1003, 1004, 1004, 1005, 1006, 1006,
    1007, 1008, 1008, 1009, 1009, 1010, 1011, 1011, 1012, 1013, 1013, 1014, 1014, 1015, 1016, 1016, 1017, 1018, 1018, 1019, 1019, 1020,
    1021, 1021, 1022, 1023, 1023, 0,    0,    0,    1,    1,    2,    3,    3,    4,    5,    5,    6,    6,    7,    8,    8,    9,
    10,   10,   11,   11,   12,   13,   13,   14,   15,   15,   16,   16,   17,   18,   18,   19,   20,   20,   21,   21,   22,   23,
    23,   24,   25,   25,   26,   27,   27,   28,   28,   29,   30,   30,   31,   32,   32,   33,   33,   34,   35,   35,   36,   37,
    37,   38,   38,   39,   40,   40,   41,   42,   42,   43,   43,   44,   45,   45,   46,   47,   47,   48,   49,   49,   50,   50,
    51,   52,   52,   53,   54,   54,   55,   55,   56,   57,   57,   58,   59,   59,   60,   60,   61,   62,   62,   63,   64,   64,
    65,   65,   66,   67,   67,   68,   69,   69,   70,   70,   71,   72,   72,   73,   74,   74,   75,   76,   76,   77,   77,   78,
    79,   79,   80,   81,   81,   82,   82,   83,   84,   84,   85,   86,   86,   87,   87,   88,   89,   89,   90,   91,   91,   92,
    92,   93,   94,   94,   95,   96,   96,   97,   98,   98,   99,   99};
#endif

#ifdef TABLES_160
#define HAS_TABLES

const uint16_t LOOKUP_TBL _tan[256] = {
    0,    1,    3,    4,    6,    7,    9,    11,   12,   14,   15,    17,    18,    20,   22,   23,   25,   26,   28,   29,   31,   33,
    34,   36,   37,   39,   41,   42,   44,   46,   47,   49,   50,    52,    54,    55,   57,   59,   60,   62,   64,   65,   67,   69,
    70,   72,   74,   75,   77,   79,   81,   82,   84,   86,   88,    89,    91,    93,   95,   96,   98,   100,  102,  104,  106,  107,
    109,  111,  113,  115,  117,  119,  121,  123,  124,  126,  128,   130,   132,   134,  136,  138,  140,  142,  145,  147,  149,  151,
    153,  155,  157,  159,  162,  164,  166,  168,  171,  173,  175,   177,   180,   182,  185,  187,  189,  192,  194,  197,  199,  202,
    204,  207,  210,  212,  215,  218,  220,  223,  226,  229,  232,   234,   237,   240,  243,  246,  249,  252,  255,  259,  262,  265,
    268,  272,  275,  278,  282,  285,  289,  293,  296,  300,  304,   308,   311,   315,  319,  323,  328,  332,  336,  340,  345,  349,
    354,  358,  363,  368,  373,  378,  383,  388,  393,  398,  404,   409,   415,   421,  427,  433,  439,  445,  451,  458,  465,  471,
    478,  486,  493,  500,  508,  516,  524,  532,  541,  549,  558,   568,   577,   587,  597,  607,  618,  628,  640,  651,  663,  675,
    688,  701,  715,  729,  744,  759,  774,  791,  808,  825,  843,   862,   882,   903,  925,  947,  971,  996,  1022, 1049, 1077, 1108,
    1140, 1173, 1209, 1246, 1286, 1329, 1374, 1423, 1475, 1531, 1591,  1655,  1725,  1801, 1884, 1975, 2075, 2185, 2308, 2445, 2599, 2773,
    2972, 3202, 3470, 3787, 4166, 4631, 5210, 5956, 6950, 8341, 10428, 13905, 20859, 41720};

const uint16_t LOOKUP_TBL _cotan[256] = {
    0,    41720, 20859, 13905, 10428, 8341, 6950, 5956, 5210, 4631, 4166, 3787, 3470, 3202, 2972, 2773, 2599, 2445, 2308, 2185, 2075, 1975,
    1884, 1801,  1725,  1655,  1591,  1531, 1475, 1423, 1374, 1329, 1286, 1246, 1209, 1173, 1140, 1108, 1077, 1049, 1022, 996,  971,  947,
    925,  903,   882,   862,   843,   825,  808,  791,  774,  759,  744,  729,  715,  701,  688,  675,  663,  651,  640,  628,  618,  607,
    597,  587,   577,   568,   558,   549,  541,  532,  524,  516,  508,  500,  493,  486,  478,  471,  465,  458,  451,  445,  439,  433,
    427,  421,   415,   409,   404,   398,  393,  388,  383,  378,  373,  368,  363,  358,  354,  349,  345,  340,  336,  332,  328,  323,
    319,  315,   311,   308,   304,   300,  296,  293,  289,  285,  282,  278,  275,  272,  268,  265,  262,  259,  256,  252,  249,  246,
    243,  240,   237,   234,   232,   229,  226,  223,  220,  218,  215,  212,  210,  207,  204,  202,  199,  197,  194,  192,  189,  187,
    185,  182,   180,   177,   175,   173,  171,  168,  166,  164,  162,  159,  157,  155,  153,  151,  149,  147,  145,  142,  140,  138,
    136,  134,   132,   130,   128,   126,  124,  123,  121,  119,  117,  115,  113,  111,  109,  107,  106,  104,  102,  100,  98,   96,
    95,   93,    91,    89,    88,    86,   84,   82,   81,   79,   77,   75,   74,   72,   70,   69,   67,   65,   64,   62,   60,   59,
    57,   55,    54,    52,    50,    49,   47,   46,   44,   42,   41,   39,   37,   36,   34,   33,   31,   29,   28,   26,   25,   23,
    22,   20,    18,    17,    15,    14,   12,   11,   9,    7,    6,    4,    3,    1};

const uint8_t LOOKUP_TBL _sin[256] = {
    0,   1,   3,   4,   6,   7,   9,   10,  12,  14,  15,  17,  18,  20,  21,  23,  25,  26,  28,  29,  31,  32,  34,  36,  37,  39,
    40,  42,  43,  45,  46,  48,  49,  51,  53,  54,  56,  57,  59,  60,  62,  63,  65,  66,  68,  69,  71,  72,  74,  75,  77,  78,
    80,  81,  83,  84,  86,  87,  89,  90,  92,  93,  95,  96,  97,  99,  100, 102, 103, 105, 106, 108, 109, 110, 112, 113, 115, 116,
    117, 119, 120, 122, 123, 124, 126, 127, 128, 130, 131, 132, 134, 135, 136, 138, 139, 140, 142, 143, 144, 146, 147, 148, 149, 151,
    152, 153, 155, 156, 157, 158, 159, 161, 162, 163, 164, 166, 167, 168, 169, 170, 171, 173, 174, 175, 176, 177, 178, 179, 181, 182,
    183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208,
    209, 210, 211, 211, 212, 213, 214, 215, 216, 217, 217, 218, 219, 220, 221, 221, 222, 223, 224, 225, 225, 226, 227, 227, 228, 229,
    230, 230, 231, 232, 232, 233, 234, 234, 235, 235, 236, 237, 237, 238, 238, 239, 239, 240, 241, 241, 242, 242, 243, 243, 244, 244,
    244, 245, 245, 246, 246, 247, 247, 247, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 251, 252, 252, 252, 252, 253, 253,
    253, 253, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255};

const uint8_t LOOKUP_TBL _cos[256] = {
    0,   255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 253, 253, 253, 253, 252,
    252, 252, 252, 251, 251, 251, 251, 250, 250, 250, 249, 249, 249, 248, 248, 247, 247, 247, 246, 246, 245, 245, 244, 244, 244, 243,
    243, 242, 242, 241, 241, 240, 239, 239, 238, 238, 237, 237, 236, 235, 235, 234, 234, 233, 232, 232, 231, 230, 230, 229, 228, 227,
    227, 226, 225, 225, 224, 223, 222, 221, 221, 220, 219, 218, 217, 217, 216, 215, 214, 213, 212, 211, 211, 210, 209, 208, 207, 206,
    205, 204, 203, 202, 201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181, 179,
    178, 177, 176, 175, 174, 173, 171, 170, 169, 168, 167, 166, 164, 163, 162, 161, 159, 158, 157, 156, 155, 153, 152, 151, 149, 148,
    147, 146, 144, 143, 142, 140, 139, 138, 136, 135, 134, 132, 131, 130, 128, 127, 126, 124, 123, 122, 120, 119, 117, 116, 115, 113,
    112, 110, 109, 108, 106, 105, 103, 102, 100, 99,  97,  96,  95,  93,  92,  90,  89,  87,  86,  84,  83,  81,  80,  78,  77,  75,
    74,  72,  71,  69,  68,  66,  65,  63,  62,  60,  59,  57,  56,  54,  53,  51,  49,  48,  46,  45,  43,  42,  40,  39,  37,  36,
    34,  32,  31,  29,  28,  26,  25,  23,  21,  20,  18,  17,  15,  14,  12,  10,  9,   7,   6,   4,   3,   1};

const uint8_t LOOKUP_TBL _neard[256] = {
    64, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 50, 49, 48, 47, 47, 46, 45, 45, 44, 43, 43, 42, 42, 41, 41, 40, 40, 39,
    39, 38, 38, 37, 37, 36, 36, 35, 35, 35, 34, 34, 34, 33, 33, 32, 32, 32, 32, 31, 31, 31, 30, 30, 30, 29, 29, 29, 29, 28, 28, 28,
    28, 27, 27, 27, 27, 26, 26, 26, 26, 26, 25, 25, 25, 25, 25, 24, 24, 24, 24, 24, 23, 23, 23, 23, 23, 23, 22, 22, 22, 22, 22, 22,
    21, 21, 21, 21, 21, 21, 21, 20, 20, 20, 20, 20, 20, 20, 20, 19, 19, 19, 19, 19, 19, 19, 19, 18, 18, 18, 18, 18, 18, 18, 18, 18,
    17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
    13, 13, 13, 13, 13, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 11, 11, 11, 11, 11, 11, 11,
    11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10};

const uint8_t LOOKUP_TBL _fard[256] = {
    66, 57, 50, 44, 40, 36, 33, 30, 28, 26, 25, 23, 22, 21, 20, 19, 18, 17, 16, 16, 15, 14, 14, 13, 13, 12, 12, 12, 11, 11, 11, 10,
    10, 10, 10, 9,  9,  9,  9,  8,  8,  8,  8,  8,  8,  7,  7,  7,  7,  7,  7,  7,  6,  6,  6,  6,  6,  6,  6,  6,  6,  5,  5,  5,
    5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  5,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  3,
    3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,
    2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,
    2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,
    2,  2,  2,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
    1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1};

const uint16_t LOOKUP_TBL _nears[256] = {
    512,  522,  532,  542,  552,  563,  573,  583,  593,  604,  614,  624,  634,  645,  655,  665,  675,  686,  696,  706,  716,  727,
    737,  747,  757,  768,  778,  788,  798,  808,  819,  829,  839,  849,  860,  870,  880,  890,  901,  911,  921,  931,  942,  952,
    962,  972,  983,  993,  1003, 1013, 1024, 1034, 1044, 1054, 1064, 1075, 1085, 1095, 1105, 1116, 1126, 1136, 1146, 1157, 1167, 1177,
    1187, 1198, 1208, 1218, 1228, 1239, 1249, 1259, 1269, 1280, 1290, 1300, 1310, 1320, 1331, 1341, 1351, 1361, 1372, 1382, 1392, 1402,
    1413, 1423, 1433, 1443, 1454, 1464, 1474, 1484, 1495, 1505, 1515, 1525, 1536, 1546, 1556, 1566, 1576, 1587, 1597, 1607, 1617, 1628,
    1638, 1648, 1658, 1669, 1679, 1689, 1699, 1710, 1720, 1730, 1740, 1751, 1761, 1771, 1781, 1791, 1802, 1812, 1822, 1832, 1843, 1853,
    1863, 1873, 1884, 1894, 1904, 1914, 1925, 1935, 1945, 1955, 1966, 1976, 1986, 1996, 2007, 2017, 2027, 2037, 2048, 2058, 2068, 2078,
    2088, 2099, 2109, 2119, 2129, 2140, 2150, 2160, 2170, 2181, 2191, 2201, 2211, 2222, 2232, 2242, 2252, 2263, 2273, 2283, 2293, 2304,
    2314, 2324, 2334, 2344, 2355, 2365, 2375, 2385, 2396, 2406, 2416, 2426, 2437, 2447, 2457, 2467, 2478, 2488, 2498, 2508, 2519, 2529,
    2539, 2549, 2560, 2570, 2580, 2590, 2600, 2611, 2621, 2631, 2641, 2652, 2662, 2672, 2682, 2693, 2703, 2713, 2723, 2734, 2744, 2754,
    2764, 2775, 2785, 2795, 2805, 2816, 2826, 2836, 2846, 2856, 2867, 2877, 2887, 2897, 2908, 2918, 2928, 2938, 2949, 2959, 2969, 2979,
    2990, 3000, 3010, 3020, 3031, 3041, 3051, 3061, 3072, 3082, 3092, 3102, 3112, 3123};

const uint16_t LOOKUP_TBL _fars[256] = {
    512,   593,   675,   757,   839,   921,   1003,  1085,  1167,  1249,  1331,  1413,  1495,  1576,  1658,  1740,  1822,  1904,  1986,
    2068,  2150,  2232,  2314,  2396,  2478,  2560,  2641,  2723,  2805,  2887,  2969,  3051,  3133,  3215,  3297,  3379,  3461,  3543,
    3624,  3706,  3788,  3870,  3952,  4034,  4116,  4198,  4280,  4362,  4444,  4526,  4608,  4689,  4771,  4853,  4935,  5017,  5099,
    5181,  5263,  5345,  5427,  5509,  5591,  5672,  5754,  5836,  5918,  6000,  6082,  6164,  6246,  6328,  6410,  6492,  6574,  6655,
    6737,  6819,  6901,  6983,  7065,  7147,  7229,  7311,  7393,  7475,  7557,  7639,  7720,  7802,  7884,  7966,  8048,  8130,  8212,
    8294,  8376,  8458,  8540,  8622,  8704,  8785,  8867,  8949,  9031,  9113,  9195,  9277,  9359,  9441,  9523,  9605,  9687,  9768,
    9850,  9932,  10014, 10096, 10178, 10260, 10342, 10424, 10506, 10588, 10670, 10752, 10833, 10915, 10997, 11079, 11161, 11243, 11325,
    11407, 11489, 11571, 11653, 11735, 11816, 11898, 11980, 12062, 12144, 12226, 12308, 12390, 12472, 12554, 12636, 12718, 12800, 12881,
    12963, 13045, 13127, 13209, 13291, 13373, 13455, 13537, 13619, 13701, 13783, 13864, 13946, 14028, 14110, 14192, 14274, 14356, 14438,
    14520, 14602, 14684, 14766, 14848, 14929, 15011, 15093, 15175, 15257, 15339, 15421, 15503, 15585, 15667, 15749, 15831, 15912, 15994,
    16076, 16158, 16240, 16322, 16404, 16486, 16568, 16650, 16732, 16814, 16896, 16977, 17059, 17141, 17223, 17305, 17387, 17469, 17551,
    17633, 17715, 17797, 17879, 17960, 18042, 18124, 18206, 18288, 18370, 18452, 18534, 18616, 18698, 18780, 18862, 18944, 19025, 19107,
    19189, 19271, 19353, 19435, 19517, 19599, 19681, 19763, 19845, 19927, 20008, 20090, 20172, 20254, 20336, 20418, 20500, 20582, 20664,
    20746, 20828, 20910, 20992, 21073, 21155, 21237, 21319, 21401};

const uint16_t LOOKUP_TBL _shorto[256] = {
    0,     32604, 32440, 32276, 32112, 31948, 31784, 31621, 31457, 31293, 31129, 30965, 30801, 30638, 30474, 30310, 30146, 29982, 29818,
    29655, 29491, 29327, 29163, 28999, 28835, 28672, 28508, 28344, 28180, 28016, 27852, 27688, 27525, 27361, 27197, 27033, 26869, 26705,
    26542, 26378, 26214, 26050, 25886, 25722, 25559, 25395, 25231, 25067, 24903, 24739, 24576, 24412, 24248, 24084, 23920, 23756, 23592,
    23429, 23265, 23101, 22937, 22773, 22609, 22446, 22282, 22118, 21954, 21790, 21626, 21463, 21299, 21135, 20971, 20807, 20643, 20480,
    20316, 20152, 19988, 19824, 19660, 19496, 19333, 19169, 19005, 18841, 18677, 18513, 18350, 18186, 18022, 17858, 17694, 17530, 17367,
    17203, 17039, 16875, 16711, 16547, 16384, 16220, 16056, 15892, 15728, 15564, 15400, 15237, 15073, 14909, 14745, 14581, 14417, 14254,
    14090, 13926, 13762, 13598, 13434, 13271, 13107, 12943, 12779, 12615, 12451, 12288, 12124, 11960, 11796, 11632, 11468, 11304, 11141,
    10977, 10813, 10649, 10485, 10321, 10158, 9994,  9830,  9666,  9502,  9338,  9175,  9011,  8847,  8683,  8519,  8355,  8192,  8028,
    7864,  7700,  7536,  7372,  7208,  7045,  6881,  6717,  6553,  6389,  6225,  6062,  5898,  5734,  5570,  5406,  5242,  5079,  4915,
    4751,  4587,  4423,  4259,  4096,  3932,  3768,  3604,  3440,  3276,  3112,  2949,  2785,  2621,  2457,  2293,  2129,  1966,  1802,
    1638,  1474,  1310,  1146,  983,   819,   655,   491,   327,   163,   0,     65373, 65209, 65045, 64881, 64717, 64553, 64390, 64226,
    64062, 63898, 63734, 63570, 63407, 63243, 63079, 62915, 62751, 62587, 62424, 62260, 62096, 61932, 61768, 61604, 61441, 61277, 61113,
    60949, 60785, 60621, 60457, 60294, 60130, 59966, 59802, 59638, 59474, 59311, 59147, 58983, 58819, 58655, 58491, 58328, 58164, 58000,
    57836, 57672, 57508, 57345, 57181, 57017, 56853, 56689, 56525};

const uint16_t LOOKUP_TBL _shorts[256] = {
    0,   2,   5,   7,   10,  12,  15,  17,  20,  23,  25,  28,  30,  33,  35,  38,  40,  43,  46,  48,  51,  53,  56,  58,  61,  64,
    66,  69,  71,  74,  76,  79,  81,  84,  87,  89,  92,  94,  97,  99,  102, 104, 107, 110, 112, 115, 117, 120, 122, 125, 128, 130,
    133, 135, 138, 140, 143, 145, 148, 151, 153, 156, 158, 161, 163, 166, 168, 171, 174, 176, 179, 181, 184, 186, 189, 192, 194, 197,
    199, 202, 204, 207, 209, 212, 215, 217, 220, 222, 225, 227, 230, 232, 235, 238, 240, 243, 245, 248, 250, 253, 256, 258, 261, 263,
    266, 268, 271, 273, 276, 279, 281, 284, 286, 289, 291, 294, 296, 299, 302, 304, 307, 309, 312, 314, 317, 320, 322, 325, 327, 330,
    332, 335, 337, 340, 343, 345, 348, 350, 353, 355, 358, 360, 363, 366, 368, 371, 373, 376, 378, 381, 384, 386, 389, 391, 394, 396,
    399, 401, 404, 407, 409, 412, 414, 417, 419, 422, 424, 427, 430, 432, 435, 437, 440, 442, 445, 447, 450, 453, 455, 458, 460, 463,
    465, 468, 471, 473, 476, 478, 481, 483, 486, 488, 491, 494, 496, 499, 501, 504, 506, 509, 512, 514, 517, 519, 522, 524, 527, 529,
    532, 535, 537, 540, 542, 545, 547, 550, 552, 555, 558, 560, 563, 565, 568, 570, 573, 576, 578, 581, 583, 586, 588, 591, 593, 596,
    599, 601, 604, 606, 609, 611, 614, 616, 619, 622, 624, 627, 629, 632, 634, 637, 640, 642, 645, 647, 650, 652};

const uint16_t LOOKUP_TBL _da[SCREEN_WIDTH] = {
    924,  925,  926,  928,  929,  930,  932,  933,  934,  935,  937,  938, 939, 940, 942, 943,  944,  945,  947,  948,  949,  950,  952,
    953,  954,  955,  957,  958,  959,  960,  962,  963,  964,  965,  967, 968, 969, 970, 972,  973,  974,  975,  977,  978,  979,  981,
    982,  983,  984,  986,  987,  988,  989,  991,  992,  993,  994,  996, 997, 998, 999, 1001, 1002, 1003, 1004, 1006, 1007, 1008, 1009,
    1011, 1012, 1013, 1014, 1016, 1017, 1018, 1019, 1021, 1022, 1023, 0,   1,   2,   3,   5,    6,    7,    8,    10,   11,   12,   13,
    15,   16,   17,   18,   20,   21,   22,   23,   25,   26,   27,   28,  30,  31,  32,  33,   35,   36,   37,   38,   40,   41,   42,
    43,   45,   46,   47,   49,   50,   51,   52,   54,   55,   56,   57,  59,  60,  61,  62,   64,   65,   66,   67,   69,   70,   71,
    72,   74,   75,   76,   77,   79,   80,   81,   82,   84,   85,   86,  87,  89,  90,  91,   92,   94,   95,   96,   98,   99};
#endif

#ifndef HAS_TABLES
uint16_t _tan[256];
uint16_t _cotan[256];
uint8_t  _sin[256];
uint8_t  _cos[256];
uint8_t  _neard[256];
uint8_t  _fard[256];
uint16_t _nears[256];
uint16_t _fars[256];
uint16_t _shorto[256];
uint16_t _shorts[256];
uint16_t _da[SCREEN_WIDTH];
#endif
